<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Twierdzenie Pitagorasa</title>
    <style>
    
      @media (max-width: 575px) {
        #card-info{
          margin-bottom: 1em;
        }
      }

    </style>
  </head>
  <body>

    <nav class="navbar navbar-light bg-light">
      <span class="navbar-brand mb-0 h1">Twierdzenie Pitagorasa</span>
    </nav>

    <div class="jumbotron">
      <h1 class="display-4">Twierdzenie Pitagorasa</h1>
      <p class="lead">
        Twierdzenie Pitagorasa mówi, że w dowolnym trójkącie prostokątnym suma kwadratów długości przyprostokątnych jest równa kwadratowi długości przeciwprostokątnej tego trójkąta.
      </p>
      <hr class="my-4">
      <p>Podaj dane, żeby obliczyć Twierdzenie Pitagorasa dla wybranego przez siebie trójkąta prostokątnego.</p>
      <div class="form-group">
        <label for="formGroupExampleInput">
          Podaj długość przyprostokątnej a
        </label>
        <input type="text" class="form-control" id="a" placeholder="Wpisz wartość">
      </div>
      <div class="form-group">
        <label for="formGroupExampleInput2">
            Podaj długość przyprostokątnej b lub przeciwprostokątnej c<span class="text-danger">*</span>
        </label>
        <input type="text" class="form-control" id="bc" placeholder="Wpisz wartość">
      </div>
      <p class="text-danger">
        *Podana wartość to długość:
        <div class="form-check">
          <input class="form-check-input" type="radio" name="bczyc" value="b" checked>
          <label class="form-check-label" for="exampleRadios1">
            Przyprostokątnej b
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="bczyc" value="c">
          <label class="form-check-label" for="exampleRadios2">
            Przeciwprostokątnej c
          </label>
        </div>
      </p>
      <button  class="btn btn-primary" style="margin-top: 1em;" data-toggle="modal" data-target=".bd-example-modal-lg" onclick="oblicz();">Oblicz</button>
    </div>

    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title h4" id="mySmallModalLabel">Wynik</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-sm-7">
                <div class="card" id="card-info">
                  <div class="card-body">
                    <h4 class="card-title">Informacje</h4>
                    <h6>Oto informacje o Twoim trójkącie:</h6>
                    <p class="card-text" id="info"></p>            
                  </div>
                </div>
              </div>
              <div class="col-sm-5">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Rysunek</h4>
                    <canvas id="kartka" width="240" height="240" ></canvas>
                  </div>
                </div>
              </div>
            </div>                         
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="">
              Close
            </button>
          </div>  
        </div>
      </div>
    </div>

    <script>
      function oblicz(params) {
        var a = document.getElementById("a").value;
        var bc = document.getElementById("bc").value;
        a = a * 1;
        bc = bc * 1;
        var bczyc;

        if (a <= 0) {
          a = 1;
        }

        if (bc <= 0) {
          bc = 1;
        }

        const bczycRadio = document.getElementsByName("bczyc");
        for (const radio of bczycRadio) {
          if (radio.checked) {
            bczyc = radio.value
            break;
          }
        }

        if (bczyc == "b") { 
          var c = Math.sqrt((a * a) + (bc * bc));;
          document.getElementById("info").innerHTML = 'Długość przyprostokątnej <span class="font-weight-bold">a = ' + a + "</span><br>" +
          'Długość przyprostokątnej <span class="font-weight-bold">b = ' + bc + "</span><br>" + 
          'Długość przeciwprostokątnej <span class="font-weight-bold">c = ' + c + "</span><br>";
          drawTriangle(a, bc);
        } else {
          var b = Math.sqrt((bc * bc) - (a * a));
          document.getElementById("info").innerHTML = 'Długość przyprostokątnej <span class="font-weight-bold">a = ' + a + "</span><br>" +
          'Długość przyprostokątnej <span class="font-weight-bold">b = ' + b + "</span><br>" + 
          'Długość przeciwprostokątnej <span class="font-weight-bold">c = ' + bc + "</span><br>";
          drawTriangle(a, b);
        }             
      }

      function drawTriangle(a, b) {
        var kartka = document.getElementById("kartka");
        var ctx = kartka.getContext("2d");
        ctx.clearRect(0, 0, 240, 240);
        for (let i = 0; i != 1;) {
          if (a >= 100 && b >= 100) {
            i = 1;
          } else {
            a = a * 2;
            b = b * 2;
          }       
        }
        for (let i = 0; i != 1;) {
          if (a <= 200 && b <= 200) {
            i = 1;
          } else {
            a = a / 2;
            b = b / 2;
          }       
        }

        var startx = (kartka.width - b) / 2;
        var starty = (kartka.height - a) / 2;

        ctx.beginPath();
        ctx.moveTo(startx, starty);
        ctx.lineTo(startx, (starty + a));
        ctx.lineTo((startx + b), (starty + a));
        ctx.lineTo(startx, starty);
        ctx.stroke();
        
        ctx.font = "normal bold 15px Arial"
        ctx.fillText('a', (startx - 15), (starty + (a / 2)));
        ctx.fillText('c', (startx + (b / 2) + 10), (starty + (a / 2)));
        ctx.fillText('b', (startx + (b / 2)), ((starty + a) + 15));
      }    
    
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
